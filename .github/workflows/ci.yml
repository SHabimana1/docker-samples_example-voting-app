# Nama workflow yang akan muncul di tab "Actions" GitHub
name: Build and Test Voting App

# Pemicu: Kapan workflow ini harus berjalan?
on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  build:
    # Menentukan sistem operasi virtual yang digunakan
    runs-on: ubuntu-latest
    steps:
    # Langkah 1: Mengunduh kode dari repository Anda
    - name: Checkout repository
      uses: actions/checkout@v3

    # Langkah 2: Menyiapkan lingkungan Python untuk service 'vote'
    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'

    # Langkah 3: Menginstall dependensi (library) yang dibutuhkan aplikasi 'vote'
    - name: Install dependencies for vote app
      run: |
        python -m pip install --upgrade pip
        pip install -r vote/requirements.txt

    # Langkah 4: Menjalankan 'test' konseptual
    - name: Run a simple check (conceptual test)
      run: echo "CI check complete. Dependencies installed successfully."